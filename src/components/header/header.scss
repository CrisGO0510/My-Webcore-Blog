@use "../../styles/variables" as *;

.header {
  display: flex;
  width: 100%;
  height: 60px;
  position: relative;

  /* CYBERPUNK GRADIENT BACKGROUND */
  background:
    linear-gradient(
      135deg,
      $purple-main 0%,
      darken($purple-main, 15%) 25%,
      $purple-neon 50%,
      darken($purple-main, 20%) 75%,
      $purple-main 100%
    ),
    /* NOISE TEXTURE */
    radial-gradient(
        circle at 25% 25%,
        rgba(255, 255, 255, 0.1) 1px,
        transparent 1px
      ),
    radial-gradient(
      circle at 75% 75%,
      rgba(255, 0, 255, 0.05) 1px,
      transparent 1px
    );

  background-size:
    100% 100%,
    20px 20px,
    30px 30px;

  /* ANIMATED GLITCH BORDER */
  border-bottom: 2px solid $cyan-accent;
  box-shadow: 
    /* Main glow */
    0 2px 20px rgba($purple-neon, 0.4),
    /* Inner highlight */ inset 0 -2px 0 rgba(255, 255, 255, 0.1),
    /* Outer purple glow */ 0 0 30px rgba($purple-main, 0.3);

  /* SUBTLE ANIMATION */
  animation: header-pulse 3s ease-in-out infinite;

  /* GLITCH OVERLAY */
  &::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: repeating-linear-gradient(
      90deg,
      transparent 0%,
      transparent 98%,
      rgba($cyan-accent, 0.3) 99%,
      transparent 100%
    );
    background-size: 50px 100%;
    animation: scan-header 2s linear infinite;
    pointer-events: none;
    mix-blend-mode: overlay;
  }

  /* DIGITAL GRID PATTERN */
  &::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image:
      linear-gradient(rgba($cyan-accent, 0.1) 1px, transparent 1px),
      linear-gradient(90deg, rgba($cyan-accent, 0.1) 1px, transparent 1px);
    background-size: 10px 10px;
    pointer-events: none;
    opacity: 0.5;
  }

  &-profile {
    display: flex;
    align-items: center;
    gap: 10px;
    position: relative;
    z-index: 10;
    padding: 0 15px;

    h3 {
      font-family: "GothicByte", monospace;
      font-size: 40px;
      margin: 0;

      /* CYBERPUNK TEXT EFFECTS */
      color: $text-color;
      text-shadow: 
        /* Main glow */
        0 0 10px $cyan-accent,
        /* Secondary glow */ 0 0 20px rgba($purple-neon, 0.5),
        /* Sharp definition */ 1px 1px 0 darken($purple-main, 30%);

      /* SUBTLE TEXT ANIMATION */
      animation: text-glow 2s ease-in-out infinite alternate;

      /* GLITCH EFFECT ON HOVER */
      transition: all 0.3s ease;

      &:hover {
        transform: scale(1.05);
        text-shadow:
          0 0 15px $cyan-accent,
          0 0 25px $purple-neon,
          2px 2px 0 darken($purple-main, 40%),
          -1px -1px 0 rgba($cyan-accent, 0.5);
      }
    }

    &-image {
      height: 100%;

      img {
        height: 100%;
        border-radius: 50%;

        /* PROFILE IMAGE EFFECTS */
        border: 2px solid $cyan-accent;
        box-shadow:
          0 0 15px rgba($cyan-accent, 0.6),
          inset 0 0 10px rgba($purple-main, 0.3);

        /* ANIMATED BORDER */
        animation: profile-glow 1.5s ease-in-out infinite alternate;
      }

      transition: all 0.3s ease;

      &:hover {
        transform: scale(5) rotate(0deg) translate(24px, 25px);
        padding: 6px 0 5px 0px;
        cursor: grab;

        img {
          box-shadow:
            0 0 25px #00f3ff,
            inset 0 0 15px rgba(191, 0, 255, 0.5);

          cursor: grabbing;
        }
      }
    }
  }
}

/* KEYFRAMES */
@keyframes header-pulse {
  0%,
  100% {
    box-shadow:
      0 2px 20px rgba($purple-neon, 0.4),
      inset 0 -2px 0 rgba(255, 255, 255, 0.1),
      0 0 30px rgba($purple-main, 0.3);
  }
  50% {
    box-shadow:
      0 2px 25px rgba($purple-neon, 0.6),
      inset 0 -2px 0 rgba(255, 255, 255, 0.2),
      0 0 40px rgba($purple-main, 0.5);
  }
}

@keyframes scan-header {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

@keyframes text-glow {
  0% {
    text-shadow:
      0 0 10px $cyan-accent,
      0 0 20px rgba($purple-neon, 0.5),
      1px 1px 0 darken($purple-main, 30%);
  }
  100% {
    text-shadow:
      0 0 15px $cyan-accent,
      0 0 25px rgba($purple-neon, 0.7),
      1px 1px 0 darken($purple-main, 30%);
  }
}

@keyframes profile-glow {
  0% {
    box-shadow:
      0 0 15px rgba($cyan-accent, 0.6),
      inset 0 0 10px rgba($purple-main, 0.3);
  }
  100% {
    box-shadow:
      0 0 20px rgba($cyan-accent, 0.8),
      inset 0 0 15px rgba($purple-main, 0.4);
  }
}
