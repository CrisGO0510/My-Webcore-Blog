@use "../../styles/variables" as *;
@use "sass:color";

.header {
  display: flex;
  justify-content: space-between; /* Separar profile de actions */
  align-items: center;
  width: 100%;
  height: 60px;
  position: relative;

  /* CYBERPUNK GRADIENT BACKGROUND */
  background:
    linear-gradient(
      135deg,
      $purple-main 0%,
      color.scale($purple-main, $lightness: -15%) 25%,
      $purple-neon 50%,
      color.scale($purple-main, $lightness: -20%) 75%,
      $purple-main 100%
    ),
    /* NOISE TEXTURE */
    radial-gradient(
        circle at 25% 25%,
        rgba(255, 255, 255, 0.1) 1px,
        transparent 1px
      ),
    radial-gradient(
      circle at 75% 75%,
      rgba(255, 0, 255, 0.05) 1px,
      transparent 1px
    );

  background-size:
    100% 100%,
    20px 20px,
    30px 30px;

  /* ANIMATED GLITCH BORDER */
  border-bottom: 2px solid $cyan-accent;
  box-shadow: 
    /* Main glow */
    0 2px 20px rgba($purple-neon, 0.4),
    /* Inner highlight */ inset 0 -2px 0 rgba(255, 255, 255, 0.1),
    /* Outer purple glow */ 0 0 30px rgba($purple-main, 0.3);

  /* SUBTLE ANIMATION */
  animation: header-pulse 3s ease-in-out infinite;

  /* GLITCH OVERLAY */
  &::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: repeating-linear-gradient(
      90deg,
      transparent 0%,
      transparent 98%,
      rgba($cyan-accent, 0.3) 99%,
      transparent 100%
    );
    background-size: 50px 100%;
    animation: scan-header 2s linear infinite;
    pointer-events: none;
    mix-blend-mode: overlay;
  }

  /* DIGITAL GRID PATTERN */
  &::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image:
      linear-gradient(rgba($cyan-accent, 0.1) 1px, transparent 1px),
      linear-gradient(90deg, rgba($cyan-accent, 0.1) 1px, transparent 1px);
    background-size: 10px 10px;
    pointer-events: none;
    opacity: 0.5;
  }

  &-profile {
    display: flex;
    align-items: center;
    gap: 10px;
    position: relative;
    z-index: 10;
    padding: 0 15px;
    height: inherit;

    h3 {
      font-family: "GothicByte", monospace;
      font-size: 40px;
      margin: 0;

      color: $text-color;
      text-shadow:
        0 0 10px $cyan-accent,
        0 0 20px rgba($purple-neon, 0.5),
        1px 1px 0 color.scale($purple-main, $lightness: -30%);

      animation: text-glow 2s ease-in-out infinite alternate;

      transition: all 0.3s ease;

      &:hover {
        transform: scale(1.05);
        text-shadow:
          0 0 15px $cyan-accent,
          0 0 25px $purple-neon,
          2px 2px 0 color.scale($purple-main, $lightness: -40%),
          -1px -1px 0 rgba($cyan-accent, 0.5);
      }
    }

    &-image {
      height: 100%;

      img {
        height: 100%;
        border-radius: 50%;

        border: 2px solid $cyan-accent;
        box-shadow:
          0 0 15px rgba($cyan-accent, 0.6),
          inset 0 0 10px rgba($purple-main, 0.3);
        animation: profile-glow 1.5s ease-in-out infinite alternate;
      }

      transition: all 0.3s ease;

      &:hover {
        transform: scale(5) rotate(0deg) translate(24px, 25px);
        cursor: grab;

        img {
          box-shadow:
            0 0 25px #00f3ff,
            inset 0 0 15px rgba(191, 0, 255, 0.5);

          cursor: grabbing;
        }
      }
    }

    &-actions {
      display: flex;
      align-items: center;
      gap: 12px;
      position: relative;
      z-index: 10;
      padding: 0 20px;
    }
  }
}

.action-btn {
  background: linear-gradient(
    145deg,
    rgba($purple-main, 0.8),
    rgba($purple-neon, 0.6)
  ) !important;
  border: 1px solid $cyan-accent !important;
  color: $text-color !important;

  box-shadow:
    0 0 15px rgba($cyan-accent, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.1) !important;

  transition: all 0.3s ease !important;

  &:hover {
    background: linear-gradient(
      145deg,
      rgba($purple-neon, 0.9),
      rgba($cyan-accent, 0.3)
    ) !important;
    box-shadow:
      0 0 25px $cyan-accent,
      inset 0 1px 0 rgba(255, 255, 255, 0.2) !important;
    transform: scale(1.1) !important;
  }

  &.ankh-btn:hover {
    box-shadow: 0 0 30px rgba(255, 215, 0, 0.8) !important; /* Golden glow */
  }

  &.github-btn:hover {
    box-shadow: 0 0 30px rgba(255, 255, 255, 0.8) !important; /* White glow */
  }

  &.instagram-btn:hover {
    box-shadow: 0 0 30px rgba(225, 48, 108, 0.8) !important; /* Instagram pink */
  }
}

/* LANGUAGE SELECT */
.cyberpunk-select {
  width: 130px;

  .q-field__control {
    background: linear-gradient(
      145deg,
      rgba($purple-main, 0.8),
      rgba($purple-neon, 0.6)
    ) !important;
    border: 1px solid $cyan-accent !important;
    border-radius: 20px !important;
    color: $text-color !important;
  }

  .q-field__native {
    color: $text-color !important;
  }

  .q-icon {
    color: $cyan-accent !important;
  }

  &:hover .q-field__control {
    box-shadow: 0 0 15px rgba($cyan-accent, 0.6) !important;
  }
}

/* CYBERPUNK DROPDOWN MENU */
:deep(.q-menu) {
  background: linear-gradient(
    145deg,
    rgba($purple-main, 0.95),
    rgba($purple-neon, 0.8)
  ) !important;
  border: 2px solid $cyan-accent !important;
  border-radius: 10px !important;
  box-shadow:
    0 10px 30px rgba(0, 0, 0, 0.8),
    0 0 20px rgba($cyan-accent, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.1) !important;

  backdrop-filter: blur(10px) !important;
}

/* DROPDOWN OPTIONS */
:deep(.q-item) {
  color: $text-color !important;
  font-family: "GothicByte", monospace !important;
  padding: 12px 16px !important;

  /* HOVER EFFECT CYBERPUNK */
  &:hover {
    background: linear-gradient(
      90deg,
      rgba($cyan-accent, 0.2),
      rgba($purple-neon, 0.3)
    ) !important;

    color: $cyan-accent !important;
    text-shadow: 0 0 10px $cyan-accent !important;
    transform: translateX(4px);
    border-left: 3px solid $cyan-accent;
  }

  /* SELECTED OPTION */
  &.q-item--active {
    background: linear-gradient(
      90deg,
      rgba($cyan-accent, 0.3),
      rgba($purple-neon, 0.4)
    ) !important;
    color: $cyan-accent !important;
    text-shadow: 0 0 12px $cyan-accent !important;
    font-weight: bold;
    border-left: 4px solid $cyan-accent;
  }

  /* TRANSITION */
  transition: all 0.3s ease !important;
}

/* DROPDOWN ITEM TEXT */
:deep(.q-item__label) {
  font-size: 14px !important;
  letter-spacing: 0.5px !important;
}

/* LANGUAGE LABEL - Cyberpunk Typography */
.language-label {
  font-family: "GothicByte", monospace !important;
  font-size: 14px;
  font-weight: bold;
  margin: 0 0 0 8px; /* Separación del icono */
  padding: 0;

  /* CYBERPUNK TEXT EFFECTS */
  color: $text-color;
  text-shadow: 
    /* Main glow */
    0 0 8px $cyan-accent,
    /* Secondary glow */ 0 0 12px rgba($purple-neon, 0.4),
    /* Sharp definition */ 1px 1px 0 color.scale($purple-main, $lightness: -40%);

  /* SUBTLE ANIMATION */
  animation: language-glow 2.5s ease-in-out infinite alternate;

  /* HOVER EFFECT */
  transition: all 0.3s ease;
  text-transform: uppercase;
  letter-spacing: 1px;

  &:hover {
    transform: scale(1.05);
    text-shadow:
      0 0 12px $cyan-accent,
      0 0 18px rgba($purple-neon, 0.6),
      1px 1px 0 color.scale($purple-main, $lightness: -50%);
  }
}

/* KEYFRAME ESPECÍFICO PARA LANGUAGE LABEL */
@keyframes language-glow {
  0% {
    text-shadow:
      0 0 8px $cyan-accent,
      0 0 12px rgba($purple-neon, 0.4),
      1px 1px 0 color.scale($purple-main, $lightness: -40%);
  }
  100% {
    text-shadow:
      0 0 12px $cyan-accent,
      0 0 18px rgba($purple-neon, 0.6),
      1px 1px 0 color.scale($purple-main, $lightness: -40%);
  }
}

/* CUSTOM TOOLTIP */
.custom-tooltip {
  background: $purple-main !important;
  color: $text-color !important;
  border: 1px solid $cyan-accent !important;
  font-family: "GothicByte", monospace !important;
}

/* KEYFRAMES */
@keyframes header-pulse {
  0%,
  100% {
    box-shadow:
      0 2px 20px rgba($purple-neon, 0.4),
      inset 0 -2px 0 rgba(255, 255, 255, 0.1),
      0 0 30px rgba($purple-main, 0.3);
  }
  50% {
    box-shadow:
      0 2px 25px rgba($purple-neon, 0.6),
      inset 0 -2px 0 rgba(255, 255, 255, 0.2),
      0 0 40px rgba($purple-main, 0.5);
  }
}

@keyframes scan-header {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

@keyframes text-glow {
  0% {
    text-shadow:
      0 0 10px $cyan-accent,
      0 0 20px rgba($purple-neon, 0.5),
      1px 1px 0 color.scale($purple-main, $lightness: -30%);
  }
  100% {
    text-shadow:
      0 0 15px $cyan-accent,
      0 0 25px rgba($purple-neon, 0.7),
      1px 1px 0 color.scale($purple-main, $lightness: -30%);
  }
}

@keyframes profile-glow {
  0% {
    box-shadow:
      0 0 15px rgba($cyan-accent, 0.6),
      inset 0 0 10px rgba($purple-main, 0.3);
  }
  100% {
    box-shadow:
      0 0 20px rgba($cyan-accent, 0.8),
      inset 0 0 15px rgba($purple-main, 0.4);
  }
}
