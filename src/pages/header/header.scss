@use "../../styles/variables" as *;
@use "sass:color";

$social-colors: (
  "ankh": #ffd700,
  "github": #ffffff,
  "instagram": #e1306c,
);

@mixin text-glow($color, $intensity: 1) {
  color: $color;
  text-shadow:
    0 0 10px * $intensity $color,
    0 0 20px * $intensity rgba($purple-neon, 0.5),
    1px 1px 0 color.scale($purple-main, $lightness: -30%);
}

@mixin box-glow($color, $size: 1) {
  box-shadow:
    0 0 15px * $size rgba($color, 0.6),
    inset 0 0 10px rgba($purple-main, 0.3);
}

@mixin cyberpunk-bg {
  background: linear-gradient(
    145deg,
    rgba($purple-main, 0.8),
    rgba($purple-neon, 0.6)
  );
  border: 1px solid $cyan-accent;
}

.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  height: 60px;
  position: relative;

  will-change: box-shadow;
  animation: header-pulse 3s ease-in-out infinite;

  background:
    linear-gradient(
      135deg,
      $purple-main 0%,
      color.scale($purple-main, $lightness: -15%) 25%,
      $purple-neon 50%,
      color.scale($purple-main, $lightness: -20%) 75%,
      $purple-main 100%
    ),
    radial-gradient(
      circle at 25% 25%,
      rgba(255, 255, 255, 0.1) 1px,
      transparent 1px
    ),
    radial-gradient(
      circle at 75% 75%,
      rgba(255, 0, 255, 0.05) 1px,
      transparent 1px
    );

  background-size:
    100% 100%,
    20px 20px,
    30px 30px;

  border-bottom: 2px solid $cyan-accent;
  box-shadow:
    0 2px 20px rgba($purple-neon, 0.4),
    inset 0 -2px 0 rgba(255, 255, 255, 0.1),
    0 0 30px rgba($purple-main, 0.3);

  &::before {
    content: "";
    position: absolute;
    inset: 0;
    background: repeating-linear-gradient(
      90deg,
      transparent 0%,
      transparent 98%,
      rgba($cyan-accent, 0.3) 99%,
      transparent 100%
    );
    background-size: 50px 100%;
    animation: scan-header 2s linear infinite;
    pointer-events: none;
    mix-blend-mode: overlay;
    will-change: transform;
  }

  &::after {
    content: "";
    position: absolute;
    inset: 0;
    background-image:
      linear-gradient(rgba($cyan-accent, 0.1) 1px, transparent 1px),
      linear-gradient(90deg, rgba($cyan-accent, 0.1) 1px, transparent 1px);
    background-size: 10px 10px;
    pointer-events: none;
    opacity: 0.5;
  }

  &-profile {
    display: flex;
    align-items: center;
    gap: 10px;
    position: relative;
    z-index: 10;
    padding: 0 15px;
    height: inherit;

    h3 {
      font-family: "GothicByte", monospace;
      font-size: 40px;
      margin: 0;
      transition: all 0.3s ease;
      animation: text-glow 2s ease-in-out infinite alternate;
      @include text-glow($text-color);

      &:hover {
        transform: scale(1.05);
        text-shadow:
          0 0 15px $cyan-accent,
          0 0 25px $purple-neon,
          2px 2px 0 color.scale($purple-main, $lightness: -40%),
          -1px -1px 0 rgba($cyan-accent, 0.5);
      }
    }

    &-image {
      height: 100%;
      transition: all 0.3s ease;

      img {
        height: 100%;
        border-radius: 50%;
        border: 2px solid $cyan-accent;
        animation: profile-glow 1.5s ease-in-out infinite alternate;
        will-change: box-shadow;
        @include box-glow($cyan-accent);
      }

      &:hover {
        transform: scale(5) translate(24px, 25px);
        cursor: grab;
        z-index: 20;

        img {
          box-shadow:
            0 0 25px #00f3ff,
            inset 0 0 15px rgba(191, 0, 255, 0.5);
          cursor: grabbing;
        }
      }
    }

    &-actions {
      display: flex;
      align-items: center;
      gap: 12px;
      position: relative;
      z-index: 10;
      padding: 0 20px;
    }
  }
}

.action-btn {
  @include cyberpunk-bg;
  color: $text-color !important;
  box-shadow:
    0 0 15px rgba($cyan-accent, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.1) !important;
  transition: all 0.3s ease !important;

  &:hover {
    background: linear-gradient(
      145deg,
      rgba($purple-neon, 0.9),
      rgba($cyan-accent, 0.3)
    ) !important;
    box-shadow:
      0 0 25px $cyan-accent,
      inset 0 1px 0 rgba(255, 255, 255, 0.2) !important;
    transform: scale(1.1) !important;
  }

  @each $name, $color in $social-colors {
    &.#{$name}-btn:hover {
      box-shadow: 0 0 30px rgba($color, 0.8) !important;
    }
  }
}

.cyberpunk-select {
  width: 130px;

  .q-field__control {
    @include cyberpunk-bg;
    border-radius: 20px !important;
    color: $text-color !important;
    transition: box-shadow 0.3s ease;
  }

  .q-field__native,
  .q-icon {
    color: $text-color !important;
  }

  .q-icon {
    color: $cyan-accent !important;
  }

  &:hover .q-field__control {
    box-shadow: 0 0 15px rgba($cyan-accent, 0.6) !important;
  }
}

:deep(.q-menu),
.cyberpunk-menu {
  background: linear-gradient(
    145deg,
    rgba($purple-main, 0.95),
    rgba($purple-neon, 0.8)
  ) !important;
  border: 2px solid $cyan-accent !important;
  border-radius: 10px !important;
  box-shadow:
    0 10px 30px rgba(0, 0, 0, 0.8),
    0 0 20px rgba($cyan-accent, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.1) !important;
  backdrop-filter: blur(10px) !important;

  .q-item {
    color: $text-color !important;
    font-family: "GothicByte", monospace !important;
    padding: 12px 16px !important;
    transition: all 0.3s ease !important;
    border-left: 3px solid transparent;
    &:hover,
    &.q-item--active {
      color: $cyan-accent !important;
      text-shadow: 0 0 10px $cyan-accent !important;
      border-left-color: $cyan-accent;
    }

    &:hover {
      background: linear-gradient(
        90deg,
        rgba($cyan-accent, 0.2),
        rgba($purple-neon, 0.3)
      ) !important;
      transform: translateX(4px);
    }

    &.q-item--active {
      background: linear-gradient(
        90deg,
        rgba($cyan-accent, 0.3),
        rgba($purple-neon, 0.4)
      ) !important;
      font-weight: bold;
    }

    &__label {
      font-size: 14px !important;
      letter-spacing: 0.5px !important;
    }
  }
}

.language-label {
  font-family: "GothicByte", monospace !important;
  font-size: 14px;
  font-weight: bold;
  margin: 0 0 0 8px;
  text-transform: uppercase;
  letter-spacing: 1px;
  transition: all 0.3s ease;
  will-change: text-shadow, transform;

  animation: language-glow 2.5s ease-in-out infinite alternate;
  @include text-glow($text-color, 0.8);

  &:hover {
    transform: scale(1.05);
    text-shadow:
      0 0 12px $cyan-accent,
      0 0 18px rgba($purple-neon, 0.6),
      1px 1px 0 color.scale($purple-main, $lightness: -50%);
  }
}

.custom-tooltip {
  background: $purple-main !important;
  color: $text-color !important;
  border: 1px solid $cyan-accent !important;
  font-family: "GothicByte", monospace !important;
  box-shadow: 0 0 10px rgba($cyan-accent, 0.3);
}

@keyframes header-pulse {
  0%,
  100% {
    box-shadow:
      0 2px 20px rgba($purple-neon, 0.4),
      inset 0 -2px 0 rgba(255, 255, 255, 0.1),
      0 0 30px rgba($purple-main, 0.3);
  }
  50% {
    box-shadow:
      0 2px 25px rgba($purple-neon, 0.6),
      inset 0 -2px 0 rgba(255, 255, 255, 0.2),
      0 0 40px rgba($purple-main, 0.5);
  }
}

@keyframes scan-header {
  from {
    transform: translateX(-100%);
  }
  to {
    transform: translateX(100%);
  }
}

@keyframes text-glow {
  0% {
    @include text-glow($text-color, 1);
  }
  100% {
    text-shadow:
      0 0 15px $cyan-accent,
      0 0 25px rgba($purple-neon, 0.7),
      1px 1px 0 color.scale($purple-main, $lightness: -30%);
  }
}

@keyframes profile-glow {
  0% {
    box-shadow:
      0 0 15px rgba($cyan-accent, 0.6),
      inset 0 0 10px rgba($purple-main, 0.3);
  }
  100% {
    box-shadow:
      0 0 20px rgba($cyan-accent, 0.8),
      inset 0 0 15px rgba($purple-main, 0.4);
  }
}

@keyframes language-glow {
  0% {
    text-shadow:
      0 0 8px $cyan-accent,
      0 0 12px rgba($purple-neon, 0.4),
      1px 1px 0 color.scale($purple-main, $lightness: -40%);
  }
  100% {
    text-shadow:
      0 0 12px $cyan-accent,
      0 0 18px rgba($purple-neon, 0.6),
      1px 1px 0 color.scale($purple-main, $lightness: -40%);
  }
}
